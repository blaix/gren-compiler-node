module Test.String.EditDistance exposing
    ( tests )

import Expect exposing (Expectation)
import Test exposing (Test, describe, test)
import Fuzz exposing (Fuzzer)
import String.EditDistance as EditDistance


tests : Test
tests =
    describe "String.EditDistance"
        [ describe "calculate"
            [ test "No difference" <| \{} ->
                EditDistance.calculate "kitten" "kitten"
                    |> Expect.equal 0
            , test "One wrong character" <| \{} ->
                EditDistance.calculate "kitten" "kitsen"
                    |> Expect.equal 1
            , test "Deleted character" <| \{} ->
                EditDistance.calculate "kitten" "kiten"
                    |> Expect.equal 1
            , test "Inserted character" <| \{} ->
                EditDistance.calculate "kitten" "kittten"
                    |> Expect.equal 1
            , test "Switched characters" <| \{} ->
                EditDistance.calculate "kitten" "kitetn"
                    |> Expect.equal 2
            , test "Several differences" <| \{} ->
                EditDistance.calculate "kitten" "sitting"
                    |> Expect.equal 3
            , test "Order doesn't matter" <| \{} ->
                EditDistance.calculate "sitting" "kitten" 
                    |> Expect.equal 3
            ]
        , describe "findSimilar"
            [ test "Simple example" <| \{} ->
                EditDistance.findMostSimilar
                    { maxAmount = 3
                    , maxDistance = 3
                    , from =
                        [ "one"
                        , "two"
                        , "three"
                        , "four"
                        , "five"
                        ]
                    }
                    "thre"
                        |> Expect.equal [ "three" ]
            ]
        ]
